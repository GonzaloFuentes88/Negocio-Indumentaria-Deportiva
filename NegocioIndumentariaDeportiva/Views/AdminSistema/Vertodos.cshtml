@model IEnumerable<BBL.Models.Usuario>
@{
    ViewData["Title"] = "Usuarios";
    Layout = "~/Views/Shared/LayoutAdmin.cshtml";

}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Usuarios</title>
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/Content/styles.css" />
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
</head>
<body class="sb-nav-fixed">



    <div id="layoutSidenav">

        <div id="layoutSidenav_content">
            <main>

                <div>
                    <h1 style="color: #3f7c66">Usuarios</h1>
                    <!-- Navbar Search-->
                    @*<form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
                        <div class="input-group">
                            <input class="form-control" type="text" placeholder="Buscar..." aria-label="Search for..." aria-describedby="btnNavbarSearch" />
                            <button class="btn btn-primary" id="btnNavbarSearch" type="button"><i class="fas fa-search"></i></button>
                        </div>
                    </form>*@



                    <div>
                        <h3 style="color: #3f7c66">Usuarios activos</h3>
                        <table class="table">
                            <thead>
                                <tr scope="row" class="fila-seleccionable">
                                    <th scope="col">Legajo</th>
                                    <th scope="col">Username</th>
                                    <th scope="col">E-mail</th>
                                    <th scope="col">Perfil</th>
                                    <th scope="col">Estado</th>
                                    <th scope="col">Editar</th>
                                    <th scope="col"></th>

                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    if (item.Estado)
                                    {
                                        <tr scope="row" class="fila-seleccionable">
                                            <td scope="col">
                                                <a @Html.ActionLink(item.Empleado.Legajo.ToString(), "VerUsuario", new { id = item.Empleado.Legajo })
                                            </td>
                                            <td scope="col">
                                                @Html.DisplayFor(modelItem => item.Username)
                                            </td>
                                            <td scope="col">
                                                @Html.DisplayFor(modelItem => item.Empleado.Email)
                                            </td>
                                            <td scope="col">
                                                @Html.DisplayFor(modelItem => item.Role.Nombre)
                                            </td>
                                            <td scope="col" style="padding-left: 25px">
                                                @Html.DisplayFor(modelItem => item.Estado)
                                            </td>


                                            <td scope="col">
                                                <a class="btn btn-primary btn-block" @Html.ActionLink("Editar", "EditarUsuario", new { id = item.IdUsuario })
                                            </td>


                                            <td scope="col">
                                                <a class="btn btn-primary btn-block" @Html.ActionLink("Baja", "BajaUsuario", new { id = item.IdUsuario })

                                            </td>
                                            

                                        </tr>
                                        }
                                    }
                                </tbody>
                        </table>

                    </div>

                    <div>
                        <h3 style="color: #3f7c66">Usuarios inactivos</h3>
                        <table class="table">
                            <thead>
                                <tr scope="row" class="fila-seleccionable">
                                    <th scope="col">Legajo</th>
                                    <th scope="col">Username</th>
                                    <th scope="col">E-mail</th>
                                    <th scope="col">Perfil</th>
                                    <th scope="col">Estado</th>
                                    <th scope="col">Editar</th>
                                    <th scope="col"></th>

                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    if (!item.Estado)
                                    {
                                        <tr scope="row" class="fila-seleccionable">
                                            <td scope="col">
                                                <a @Html.ActionLink(item.Empleado.Legajo.ToString(), "VerUsuario", new { id = item.Empleado.Legajo })
                                            </td>
                                            <td scope="col">
                                                @Html.DisplayFor(modelItem => item.Username)
                                            </td>
                                            <td scope="col">
                                                @Html.DisplayFor(modelItem => item.Empleado.Email)
                                            </td>
                                            <td scope="col">
                                                @Html.DisplayFor(modelItem => item.Role.Nombre)
                                            </td>
                                            <td scope="col" style="padding-left: 25px">
                                                @Html.DisplayFor(modelItem => item.Estado)
                                            </td>


                                            <td scope="col">
                                                <a class="btn btn-primary btn-block" @Html.ActionLink("Editar", "EditarUsuario", new { id = item.IdUsuario })
                                            </td>




                                            <td scope="col">
                                                <a class="btn btn-primary btn-block" @Html.ActionLink("Alta", "AltaUsuario", new { id = item.IdUsuario })
                                            </td>



                                        </tr>
                                    }
                                }
                            </tbody>
                        </table>

                    </div>

                    
                </div>

            </main>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="js/scripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
    <script src="js/datatables-simple-demo.js"></script>
</body>
</html>
